<!DOCTYPE HTML>
<html>
<head>
<title>二级联动列表</title>
<meta charset="utf-8" />
<style>
	.hide{ display: none; }
</style>
<script>
	/*实现“省”和“市”的级联下拉列表*/
	var cities=[[],		/*0号下标没有元素*/
[{"name":'东城区',"value":101},
 {"name":'西城区',"value":102},
 {"name":'海淀区',"value":103},
 {"name":'朝阳区',"value":104}],
[{"name":'河东区',"value":201},
 {"name":'河西区',"value":202},
 {"name":'南开区',"value":303}],
[{"name":'石家庄市',"value":301},
 {"name":'廊坊市',"value":302},
 {"name":'保定市',"value":303},
 {"name":'唐山市',"value":304},
 {"name":'秦皇岛市',"value":304}]
			];
function loadCities(i){
	var selCities=document.querySelector('select[name="cities"]');//重构
	//获得城市子数组；如果子数组长度为0；将select影藏；
	if(cities[i].length==0){
		selCities.className="hide";
	}else{
		selCities.innerHTML="";							//清除旧的html
		var fragment=document.createDocumentFragment(); //创建文档片段
		for(var c=0;c<cities[i].length;c++){			//遍历当前位置对应的子数组
			var option=document.createElement("option");//创建option
			option.innerHTML=cities[i][c].name;			//设置innerHTML
			option.value=cities[i][c].value;			//设置value属性
			fragment.appendChild(option);				//将option挂载到文档片段
		};
		selCities.appendChild(fragment);				//将文档片段里的option挂载到selCities
		selCities.className="";							//将selcities显示出来；
	};
}
</script>

</head>
<body>
	<select name="provs" size=3 onchange="loadCities(this.selectedIndex)">
		<option>—请选择—</option>
		<option>北京市</option>
		<option>天津市</option>
		<option>河北省</option>
	</select>
	
	<select name="cities" class="hide" size=3></select>
</body>
</html>
