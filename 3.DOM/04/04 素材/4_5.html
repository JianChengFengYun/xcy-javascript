<!DOCTYPE HTML>
<html>
<head>
<title>倒计时自动关闭/跳转页面</title>
<meta charset="utf-8" />
<script>
window.onload=function(){
	//calc();
	timer=setTimeout(calc,1000);
}
var timer=null;
function calc(){
	var span=document.querySelector("span");//引用类型的对象；
	var spanHTML=span.innerHTML;			//原始类型的值；
	var index=parseInt(spanHTML)-1;
	span.innerHTML=index+spanHTML.slice(1);
	if(index>0){
	timer=setTimeout(calc,1000);
	}else{
		window.close();
	};
	
};
function stop(){
	clearTimeout(timer);
	timer=null;
}
</script>
</head>
<body>
	<span>5秒钟后自动关闭</span><br>
	<a href="javascript:stop();">留在本页</a>
</body>
</html>
